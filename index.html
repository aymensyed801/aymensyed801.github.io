<!doctype html>

<!--Name: Aymen Syed
Name of file: homework1.html
Date created: 10/24/2023
Date last edited: 10/25/2023
Description: Patient registration form at a PCP (primary care providor) -->

<html>
    <head>
        <meta charset="utf-8">

        <title>New patient registration form</title>

        <!-- Load external CSS styles -->
        <link rel="stylesheet" href="2077737-homework2.css">

    </head>

    <body>
        <table>
        <tr>
        <td><img src="Medical_logo.jpg" width="100" height="100"></td>
        <td><div>
            <h4>
            <script>
                date = new Date().toLocaleDateString();
                document.write(date);
            </script>
            </h4>
        </div></td>
        </tr>
        </table>
        <h1>Patient registration form</h1>
        <form>
        <table>
            <th>Personal Information:</th>
            <tr>
                <td><label for="fname">First Name:</label></td>
                <td><label for="mname">MI:</label></td>
                <td><label for="lname">Last Name:</label></td>
                </tr>
            <tr>              
                <td><input type="text" name="fname" size="30" minlength="1" maxlength="30" pattern="[A-Za-z-' ]+"required/></td>
                <td><input type="text" name="mname" size="1" minlength="0" maxlength="1"pattern="[A-Za-z]+"/></td>
                <td><input type="text" name="lname" size="30" minlength="1" maxlength="30"pattern="[A-Za-z-' ]+"required/><td>
                </tr>
        </table>
        <table>
            <tr>
                <td><label for="DOB">Date of Birth:</label></td>
                <td><input type="date" id ="DOB "name="DOB"  min="1903-10-25" max="2023-10-25" required/></td>
                <td><label for="SSN">SSN:</label></td>
                <td><input type="password" name="SSN" minlength="9" maxlength="11" pattern="[0-9]*" required/></td>
                </tr>
        </table>
        <table>
            <tr>
                <td><label for="mstatus">Marital status:</label></td>
                <td><input type="radio" name="married" value="Married" required/>
                <span>Married</span></td>
                <td><input type="radio" name="single" value="Single" />
                <span>Single</span></td>
                <td><input type="radio" name="divorced" value="Divorced" />
                <span>Divorced</span></td>
                <td><input type="radio" name="widowed" value="Widowed" />
                <span>Widowed</span></td>
                </tr>
        </table>
        <table>
            <tr>
                <td><label for="sex">Sex:</label></td>
                <td><input type="radio" name="msex" value="Male" required/>
                <span>Male</span></td>
                <td><input type="radio" name="fsex" value="Female" />
                <span>Female</span></td>
                </tr>
        </table>
        <table>
            <tr>
                <td><label for="saddress1">Address Line 1:</label></td>
                <td><input type="text" name="saddress1" size="30" minlength="2" maxlength="30"required/></td>
                </tr>
            <tr>
                <td><label for="saddress2">Address Line 2:</label></td>
                <td><input type="text" name="saddress2" size="30" minlength="2" maxlength="30"/></td>
                </tr>
            <tr>
                <td><label for="cityaddress">City:</label></td>
                <td><input type="text" name="cityaddress" size="30" minlength="2" maxlength="30"required/></td>
                <td><label for="State">State:</label></td>
                <td><select name = "State">
                    <option selected="" value="Default" required>Please select a state</option>
                    <option value="AL">Alabama</option>
                    <option value="AK">Alaska</option>
                    <option value="AZ">Arizona</option>
                    <option value="AR">Arkansas</option>
                    <option value="CA">California</option>
                    <option value="CO">Colorado</option>
                    <option value="CT">Connecticut</option>
                    <option value="DE">Delaware</option>
                    <option value="DC">District Of Columbia</option>
                    <option value="FL">Florida</option>
                    <option value="GA">Georgia</option>
                    <option value="HI">Hawaii</option>
                    <option value="ID">Idaho</option>
                    <option value="IL">Illinois</option>
                    <option value="IN">Indiana</option>
                    <option value="IA">Iowa</option>
                    <option value="KS">Kansas</option>
                    <option value="KY">Kentucky</option>
                    <option value="LA">Louisiana</option>
                    <option value="ME">Maine</option>
                    <option value="MD">Maryland</option>
                    <option value="MA">Massachusetts</option>
                    <option value="MI">Michigan</option>
                    <option value="MN">Minnesota</option>
                    <option value="MS">Mississippi</option>
                    <option value="MO">Missouri</option>
                    <option value="MT">Montana</option>
                    <option value="NE">Nebraska</option>
                    <option value="NV">Nevada</option>
                    <option value="NH">New Hampshire</option>
                    <option value="NJ">New Jersey</option>
                    <option value="NM">New Mexico</option>
                    <option value="NY">New York</option>
                    <option value="NC">North Carolina</option>
                    <option value="ND">North Dakota</option>
                    <option value="OH">Ohio</option>
                    <option value="OK">Oklahoma</option>
                    <option value="OR">Oregon</option>
                    <option value="PA">Pennsylvania</option>
                    <option value="PR">Puerto Rico</option>
                    <option value="RI">Rhode Island</option>
                    <option value="SC">South Carolina</option>
                    <option value="SD">South Dakota</option>
                    <option value="TN">Tennessee</option>
                    <option value="TX">Texas</option>
                    <option value="UT">Utah</option>
                    <option value="VT">Vermont</option>
                    <option value="VA">Virginia</option>
                    <option value="WA">Washington</option>
                    <option value="WV">West Virginia</option>
                    <option value="WI">Wisconsin</option>
                    <option value="WY">Wyoming</option>
                </select></td>
                <td><label for="zip">Zip Code:</label></td>
                <td><input type="number" name="zip" minlength="5" maxlength="10" required/></td>
                </tr>
        </table>
        <table>
            <th>Contact Info:</th>
             <tr>
                <td><label for="phone">Phone Number:</label></td>
                <td><label for="email">Email Address</label></td>
                </tr>
            <tr>
                <td><input type="text" name="phone" size="15" minlength="10" maxlength="12" value="000-000-0000" required/></td>
                <td><input type="text" name="email" size="50" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"required/></td>
                </tr>
        </table>
        <table>
            <th>Medical Information:</th>
            <tr>
                <td><label for="reason">Reason for Visit:</label></td>
                <td><textarea name="reason" id="reason"pattern="^[^\"']*$"></textarea></td>
                </tr>
            <tr>
                <td><label for="pmh">Past Medical History:</label></td>
                <td><textarea name="pmh" id="pmh"pattern="^[^\"']*$"></textarea></td>
                </tr>
            </table>
            <table>
                <tr><td><label for="pain">Pain Level:</label></td></tr>
                <tr><td>1</td<td><input name="pain" type="range" min="1" max="10" value="5" class="slider" id="pain"></td><td>10</td></tr>
                <tr><td></td><td><span id="rangedisplay"></span></td></tr>
                <script>
                    var slider = document.getElementById("pain");
                    var output = document.getElementById("rangedisplay");
                    output.innerHTML = slider.value;

                    slider.oninput = function() {
                        output.innerHTML = this.value;
                    }
                </script>
            </table>
            <table>
            <tr>
                <td><label for="allergies">Allergies:</label></td>
                </tr>
            <table>
                <input type="checkbox" id = "allergies1" name="allergies1" value="peanuts" />
                <label for="allergies1">Peanuts</label><br>        
                
                <input type="checkbox" id = "allergies2" name="allergies2" value="cats" />
                <label for="allergies2">Cats</label><br>               
                
                <input type="checkbox" id = "allergies3" name="allergies3" value="dogs" />
                <label for="allergies3">Dogs</label><br>                
                
                <input type="checkbox" id = "allergies4" name="allergies4" value="pollen" />
                <label for="allergies4">Pollen</label><br>                
                
                <input type="checkbox" id = "allergies5" name="allergies5" value="shellfish" />
                <label for="allergies5">Shellfish</label><br>                
            </table>
            <table>
            <tr>
                <td><label for="meds">Current Medication:</label></td>
                <td><input type="text" name="meds" size="50"/></td>
                </tr>
        </table>
        <table>
            <tr>
                <td><label for="vax">COVID-19 Vaccination:</label></td>
                <td><input type="radio" name="vaxed" value="vaxed" required/>
                <span>Yes</span></td>
                <td><input type="radio" name="unvaxed" value="unvaxed" />
                <span>No</span></td>
                </tr>
        </table>
        <table>
            <th>Emergency Contact:</th>
            <tr>    
                <td><label for="contactname">Name:</label></td>
                <td><input type="text" name="contactname" size="50" /></td>
                </tr>
            <tr>
                <td><label for="relation">Relationship to Patient:</label></td>
                <td><input type="text" name="relation" size="15" /></td>
                </tr>
            <tr>
                <td><label for="contactnumber">Phone Number:</label></td>
                <td><input type="text" name="contactnumber" size="15" /></td>
                </tr>
        </table>
        <table>
            <tr>
                <td><label for="id">User ID:</label></td>
                <td><input type="text" name="id" size="30" minlength="5" maxlength="30"pattern="[a-zA-Z][a-zA-Z0-9_-]"/></td>
                
                </tr>
            <td><label for="pass1">Password:</label></td>
                <td><input type="password" id = "pass1" name="pass1" size="30" minlength="8" maxlength="30"pattern="^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+{}\[\]:;<>,.?~\\/-]).{8,}$"required/></td>
                </tr>
            <td><label for="pass2">Retype Password:</label></td>
                <td><input type="password" id = "pass2" name="pass2" size="30" minlength="8"maxlength="30"/></td>
                </tr>
        </table>
        <table>
            <tr>
                <td><input type="reset" value="Reset" /></td>
                <td><input type="button" value="Review" onclick="displayData()"></td>
                <td><input type="submit" name="submit" value="Submit" onclick="validateAndSubmit()" /></td>
                </tr>    
        </table>
        </form>



        

        <footer>
            <div id="reviewData"></div>
    <p>&copy; 2023 Aymen Syed. All rights reserved.</p>
    <p>Contact: <a href="mailto:your.email@example.com">HeartMedical@gmail.com</a></p>
   
<script>

    function validateEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    function validateUserId(userId) {
        return /^[a-zA-Z][a-zA-Z0-9_-]*$/.test(userId) && userId.length >= 5 && userId.length <= 20;
    }

    function validatePassword(password, userId) {
        return password !== userId && password.length >= 8;
    }

    function validateAndSubmit() {

        if (!validateUserId(document.forms[0].id.value)) {
            alert("User ID cannot start with a number and should only contain letters, numbers, underscores, and hyphens.");
            return false;
        }

        if (!validateName(document.forms[0].fname.value)) {
            alert("Please enter a valid first name.");
            return false;
        }

        if (!validateName(document.forms[0].lname.value)) {
            alert("Please enter a valid last name.");
            return false;
        }

        if (!validateDateOfBirth()) {
            alert("Please enter a valid date of birth.");
            return false;
        }

        if (!validateEmail(document.forms[0].email.value)) {
            alert("Please enter a valid email address.");
            return false;
        }

        var userId = document.forms[0].id.value;
        var password = document.forms[0].pass1.value;

        if (!validatePassword(password, userId)) {
            alert("Password cannot be the same as the User ID.");
            return false;
        }

        alert("Form submitted successfully!");
        return true;
    }

    function validateName(name) {
        return /^[A-Za-z-' ]+$/.test(name);
    }

    function validateDateOfBirth() {
        var dob = document.forms[0].DOB.value;
        var dobDate = new Date(dob);
        var currentDate = new Date();
        var maxAgeDate = new Date(currentDate);
        maxAgeDate.setFullYear(maxAgeDate.getFullYear() - 120);

        return !isNaN(dobDate.getTime()) && dobDate < currentDate && dobDate > maxAgeDate;
    }

    document.forms[0].SSN.addEventListener('input', function () {
        var ssn = this.value.replace(/\D/g, '');
        if (ssn.length > 5) {
            this.value = ssn.slice(0, 3) + '-' + ssn.slice(3, 5) + '-' + ssn.slice(5);
        } else if (ssn.length > 3) {
            this.value = ssn.slice(0, 3) + '-' + ssn.slice(3);
        } else {
            this.value = ssn;
        }
    });

    document.forms[0].email.addEventListener('input', function () {
        var email = this.value;
    });

    document.forms[0].pain.addEventListener('input', function () {
        var sliderValue = this.value;
        document.getElementById('rangedisplay').innerText = sliderValue;
    });
</script>


</body> 
</html>
